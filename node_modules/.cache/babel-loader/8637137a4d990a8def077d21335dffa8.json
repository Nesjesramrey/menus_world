{"ast":null,"code":"var _jsxFileName = \"/home/nesramblue/Nestor/Kodemia/menus_world/src/context/Auth.context.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSetState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/React.createContext(null);\nconst initialState = {\n  isLoggedIn: false,\n  isLoginPending: false,\n  loginError: null\n};\nexport const ContextProvider = props => {\n  _s();\n\n  const [state, setState] = useSetState(initialState);\n\n  const setLoginPending = isLoginPending => setState({\n    isLoginPending\n  });\n\n  const setLoginSuccess = isLoggedIn => setState({\n    isLoggedIn\n  });\n\n  const setLoginError = loginError => setState({\n    loginError\n  });\n\n  const login = (email, password) => {\n    setLoginPending(true);\n    setLoginSuccess(false);\n    setLoginError(null);\n    fetchLogin(email, password, error => {\n      setLoginPending(false);\n\n      if (!error) {\n        setLoginSuccess(true);\n      } else {\n        setLoginError(error);\n      }\n    });\n  };\n\n  const logout = () => {\n    setLoginPending(false);\n    setLoginSuccess(false);\n    setLoginError(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      state,\n      login,\n      logout\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}; // fake login\n\n_s(ContextProvider, \"gEbfckC4+9sdEUMA3lRbQQH1LAM=\", false, function () {\n  return [useSetState];\n});\n\n_c = ContextProvider;\n\nconst fetchLogin = (email, password, callback) => setTimeout(() => {\n  if (email === \"admin\" && password === \"admin\") {\n    return callback(null);\n  } else {\n    return callback(new Error(\"Invalid email and password\"));\n  }\n}, 1000);\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useSetState","AuthContext","createContext","initialState","isLoggedIn","isLoginPending","loginError","ContextProvider","props","state","setState","setLoginPending","setLoginSuccess","setLoginError","login","email","password","fetchLogin","error","logout","children","callback","setTimeout","Error"],"sources":["/home/nesramblue/Nestor/Kodemia/menus_world/src/context/Auth.context.js"],"sourcesContent":["import React from \"react\";\nimport { useSetState } from \"react\";\n\nexport const AuthContext = React.createContext(null);\n\nconst initialState = {\n  isLoggedIn: false,\n  isLoginPending: false,\n  loginError: null,\n};\n\nexport const ContextProvider = (props) => {\n  const [state, setState] = useSetState(initialState);\n\n  const setLoginPending = (isLoginPending) => setState({ isLoginPending });\n  const setLoginSuccess = (isLoggedIn) => setState({ isLoggedIn });\n  const setLoginError = (loginError) => setState({ loginError });\n\n  const login = (email, password) => {\n    setLoginPending(true);\n    setLoginSuccess(false);\n    setLoginError(null);\n\n    fetchLogin(email, password, (error) => {\n      setLoginPending(false);\n\n      if (!error) {\n        setLoginSuccess(true);\n      } else {\n        setLoginError(error);\n      }\n    });\n  };\n\n  const logout = () => {\n    setLoginPending(false);\n    setLoginSuccess(false);\n    setLoginError(null);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        state,\n        login,\n        logout,\n      }}\n    >\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\n// fake login\nconst fetchLogin = (email, password, callback) =>\n  setTimeout(() => {\n    if (email === \"admin\" && password === \"admin\") {\n      return callback(null);\n    } else {\n      return callback(new Error(\"Invalid email and password\"));\n    }\n  }, 1000);\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,OAA5B;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,KAAK,CAACG,aAAN,CAAoB,IAApB,CAApB;AAEP,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,KADO;EAEnBC,cAAc,EAAE,KAFG;EAGnBC,UAAU,EAAE;AAHO,CAArB;AAMA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAW;EAAA;;EACxC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,WAAW,CAACG,YAAD,CAArC;;EAEA,MAAMQ,eAAe,GAAIN,cAAD,IAAoBK,QAAQ,CAAC;IAAEL;EAAF,CAAD,CAApD;;EACA,MAAMO,eAAe,GAAIR,UAAD,IAAgBM,QAAQ,CAAC;IAAEN;EAAF,CAAD,CAAhD;;EACA,MAAMS,aAAa,GAAIP,UAAD,IAAgBI,QAAQ,CAAC;IAAEJ;EAAF,CAAD,CAA9C;;EAEA,MAAMQ,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;IACjCL,eAAe,CAAC,IAAD,CAAf;IACAC,eAAe,CAAC,KAAD,CAAf;IACAC,aAAa,CAAC,IAAD,CAAb;IAEAI,UAAU,CAACF,KAAD,EAAQC,QAAR,EAAmBE,KAAD,IAAW;MACrCP,eAAe,CAAC,KAAD,CAAf;;MAEA,IAAI,CAACO,KAAL,EAAY;QACVN,eAAe,CAAC,IAAD,CAAf;MACD,CAFD,MAEO;QACLC,aAAa,CAACK,KAAD,CAAb;MACD;IACF,CARS,CAAV;EASD,CAdD;;EAgBA,MAAMC,MAAM,GAAG,MAAM;IACnBR,eAAe,CAAC,KAAD,CAAf;IACAC,eAAe,CAAC,KAAD,CAAf;IACAC,aAAa,CAAC,IAAD,CAAb;EACD,CAJD;;EAMA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MACLJ,KADK;MAELK,KAFK;MAGLK;IAHK,CADT;IAAA,UAOGX,KAAK,CAACY;EAPT;IAAA;IAAA;IAAA;EAAA,QADF;AAWD,CAxCM,C,CA0CP;;GA1Cab,e;UACeP,W;;;KADfO,e;;AA2Cb,MAAMU,UAAU,GAAG,CAACF,KAAD,EAAQC,QAAR,EAAkBK,QAAlB,KACjBC,UAAU,CAAC,MAAM;EACf,IAAIP,KAAK,KAAK,OAAV,IAAqBC,QAAQ,KAAK,OAAtC,EAA+C;IAC7C,OAAOK,QAAQ,CAAC,IAAD,CAAf;EACD,CAFD,MAEO;IACL,OAAOA,QAAQ,CAAC,IAAIE,KAAJ,CAAU,4BAAV,CAAD,CAAf;EACD;AACF,CANS,EAMP,IANO,CADZ"},"metadata":{},"sourceType":"module"}