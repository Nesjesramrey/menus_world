{"ast":null,"code":"const Crypto = require(\"crypto-js\");\n\nexport default class Signature {\n  static getSignature(config, date, policyBase64) {\n    const getSignatureKey = (key, dateStamp, regionName) => {\n      const kDate = Crypto.HmacSHA256(dateStamp, \"AWS4\" + key);\n      const kRegion = Crypto.HmacSHA256(regionName, kDate);\n      const kService = Crypto.HmacSHA256(\"s3\", kRegion);\n      const kSigning = Crypto.HmacSHA256(\"aws4_request\", kService);\n      return kSigning;\n    };\n\n    const signature = policyEncoded => {\n      return Crypto.HmacSHA256(policyEncoded, getSignatureKey(config.secretAccessKey, date, config.region)).toString(Crypto.enc.Hex);\n    };\n\n    return signature(policyBase64);\n  }\n\n}","map":{"version":3,"names":["Crypto","require","Signature","getSignature","config","date","policyBase64","getSignatureKey","key","dateStamp","regionName","kDate","HmacSHA256","kRegion","kService","kSigning","signature","policyEncoded","secretAccessKey","region","toString","enc","Hex"],"sources":["/home/nesramblue/Nestor/Kodemia/menus_world/node_modules/react-s3/lib/Signature.js"],"sourcesContent":["const Crypto = require(\"crypto-js\");\n\nexport default class Signature {\n    static getSignature(config, date, policyBase64) {\n        const getSignatureKey = (key, dateStamp, regionName) => {\n            const kDate = Crypto.HmacSHA256(dateStamp, \"AWS4\" + key);\n            const kRegion = Crypto.HmacSHA256(regionName, kDate);\n            const kService = Crypto.HmacSHA256(\"s3\", kRegion);\n            const kSigning = Crypto.HmacSHA256(\"aws4_request\", kService);\n            return kSigning;\n        };\n        const signature = policyEncoded => {\n            return Crypto.HmacSHA256(policyEncoded, getSignatureKey(config.secretAccessKey, date, config.region)).toString(Crypto.enc.Hex);\n        };\n        return signature(policyBase64);\n    }\n}"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AAEA,eAAe,MAAMC,SAAN,CAAgB;EACR,OAAZC,YAAY,CAACC,MAAD,EAASC,IAAT,EAAeC,YAAf,EAA6B;IAC5C,MAAMC,eAAe,GAAG,CAACC,GAAD,EAAMC,SAAN,EAAiBC,UAAjB,KAAgC;MACpD,MAAMC,KAAK,GAAGX,MAAM,CAACY,UAAP,CAAkBH,SAAlB,EAA6B,SAASD,GAAtC,CAAd;MACA,MAAMK,OAAO,GAAGb,MAAM,CAACY,UAAP,CAAkBF,UAAlB,EAA8BC,KAA9B,CAAhB;MACA,MAAMG,QAAQ,GAAGd,MAAM,CAACY,UAAP,CAAkB,IAAlB,EAAwBC,OAAxB,CAAjB;MACA,MAAME,QAAQ,GAAGf,MAAM,CAACY,UAAP,CAAkB,cAAlB,EAAkCE,QAAlC,CAAjB;MACA,OAAOC,QAAP;IACH,CAND;;IAOA,MAAMC,SAAS,GAAGC,aAAa,IAAI;MAC/B,OAAOjB,MAAM,CAACY,UAAP,CAAkBK,aAAlB,EAAiCV,eAAe,CAACH,MAAM,CAACc,eAAR,EAAyBb,IAAzB,EAA+BD,MAAM,CAACe,MAAtC,CAAhD,EAA+FC,QAA/F,CAAwGpB,MAAM,CAACqB,GAAP,CAAWC,GAAnH,CAAP;IACH,CAFD;;IAGA,OAAON,SAAS,CAACV,YAAD,CAAhB;EACH;;AAb0B"},"metadata":{},"sourceType":"module"}